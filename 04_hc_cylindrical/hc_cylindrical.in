###############################################
###
### This file is generated by txpp. Do not edit.
###
### Input file : D:\001_zerlingx\literature\HC\006_models\04_hc_cylindrical\hc_cylindrical.pre
### Output file: D:\001_zerlingx\literature\HC\006_models\04_hc_cylindrical\hc_cylindrical.in
### Translation: Sat, 22 Dec 2018 20:59:00
###
###############################################

nsteps = 4000
dumpPeriodicity = 100
dt = 1e-11
dimension = 2
floattype = double
verbosity = 127
copyHistoryAtEachDump = 0
useGridBndryRestore = True
constructUniverse = False

<Grid globalGrid>
  verbosity = 127
  kind = coordProdGrid
  coordinateSystem = Cylindrical
  includeCylAxis = True

  <CoordinateGrid dir0>
    sectionBreaks = [0.0 0.0155]
    deltaAtBreaks = [0.0001 0.0001]
  </CoordinateGrid>

  <CoordinateGrid dir1>
    sectionBreaks = [0.0 0.003]
    deltaAtBreaks = [0.0001 0.0001]
  </CoordinateGrid>

  maxCellXings = 1
</Grid>

<Decomp decomp>
  periodicDirs = []
</Decomp>

<EmMaterial PEC>
  kind = conductor
  resistance = 0.0
</EmMaterial>

<GridBoundary hc_cylindricalPecShapes>
  kind = gridRgnBndry
  calculateVolume = 1
  dmFrac = 0.5
  polyfilename = hc_cylindricalPecShapes.stl
  flipInterior = True
  scale = [1.0  1.0  1.0]
  printGridData = False
  mappedPolysfile = hc_cylindricalPecShapes_mapped.stl
</GridBoundary>

<GridBoundary emitter>
  kind = gridRgnBndry
  calculateVolume = 1
  dmFrac = 0.5
  polyfilename = emitter.stl
  flipInterior = True
  scale = [1.0  1.0  1.0]
  printGridData = False
  mappedPolysfile = emitter_mapped.stl
</GridBoundary>

<GridBoundary orifice>
  kind = gridRgnBndry
  calculateVolume = 1
  dmFrac = 0.5
  polyfilename = orifice.stl
  flipInterior = True
  scale = [1.0  1.0  1.0]
  printGridData = False
  mappedPolysfile = orifice_mapped.stl
</GridBoundary>

<GridBoundary anode>
  kind = gridRgnBndry
  calculateVolume = 1
  dmFrac = 0.5
  polyfilename = anode.stl
  flipInterior = True
  scale = [1.0  1.0  1.0]
  printGridData = False
  mappedPolysfile = anode_mapped.stl
</GridBoundary>

<MultiField esMultiField>

  <Field E>
    numComponents = 3
    offset = edge
    kind = regular
    overlap = [1 1]
    labels = [E_z   E_r   E_phi]
  </Field>

  <Field Phi>
    numComponents = 1
    offset = none
    kind = regular
    overlap = [1 2]
    labels = [Phi]
  </Field>

  <Field ChargeDensity>
    numComponents = 1
    offset = none
    kind = depField
    overlap = [1 2]
    labels = [ChargeDensity]
  </Field>

  <FieldUpdater gradPhi>
    kind = gradVecUpdaterCoordProd
    factor = -1.0
    lowerBounds = [0  0  0]
    upperBounds = [155   30   12]
    readFields = [Phi]
    writeFields = [E]
  </FieldUpdater>

  <InitialUpdateStep esSolveInitialUpdateStep>
    alsoAfterRestore = True
    updaters = [esSolve]
    messageFields = [Phi]
  </InitialUpdateStep>

  <InitialUpdateStep gradPhiInitStep>
    alsoAfterRestore = True
    updaters = [gradPhi]
    messageFields = [E]
  </InitialUpdateStep>

  <UpdateStep esSolveStep>
    toDtFrac = 1.0
    updaters = [esSolve]
    messageFields = [Phi]
  </UpdateStep>

  <UpdateStep gradPhiStep>
    toDtFrac = 1.0
    updaters = [gradPhi]
    messageFields = [E]
  </UpdateStep>

  <FieldUpdater esSolve>
    kind = linearSolveUpdater
    lowerBounds = [0  0]
    upperBounds = [156  31]
    readFields = [ChargeDensity]
    readComponents = [0]
    writeFields = [Phi]
    writeComponents = [0]
    writeEquationToFile = 0

    <MatrixFiller interiorFiller>
      kind = coordProdNodeSTFuncStencilFiller
      verbosity = VPM_TOP_LEVEL_VERBOSITY
      minDim = 1
      gridBoundary = hc_cylindricalPecShapes
      rowInteriorosity = [insideBoundary]
      colInteriorosity = [insideBoundary cutByBoundary outsideBoundary]
      lowerBounds = [1  1  1]
      upperBounds = [155   30   12]
      component = 0

      <STFunc coeff>
        kind = expression
        expression = 1.0
      </STFunc>

      <CoordProdSTFuncStencilElement phi_dzp>
        value = 8.854187817620389e-12
        minDim = 1
        cellOffset = [0 0 0]
        functionOffset = [0.5 0. 0.]
        gridDirection = 0
        gridOffset = [1 0 0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </CoordProdSTFuncStencilElement>

      <CoordProdSTFuncStencilElement phi_dzm>
        value = 8.854187817620389e-12
        minDim = 1
        cellOffset = [0 0 0]
        functionOffset = [-0.5 0. 0.]
        gridDirection = 0
        gridOffset = [0 0 0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </CoordProdSTFuncStencilElement>

      <CoordProdSTFuncStencilElement phi_drp>
        value = 8.854187817620389e-12
        minDim = 2
        cellOffset = [0 0 0]
        functionOffset = [0. 0.5 0.]
        gridDirection = 1
        gridOffset = [0 1 0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </CoordProdSTFuncStencilElement>

      <CoordProdSTFuncStencilElement phi_drm>
        value = 8.854187817620389e-12
        minDim = 2
        cellOffset = [0 0 0]
        functionOffset = [0. -0.5 0.]
        gridDirection = 1
        gridOffset = [0 0 0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </CoordProdSTFuncStencilElement>

      <CoordProdSTFuncStencilElement phi_dpp>
        value = 8.854187817620389e-12
        minDim = 3
        cellOffset = [0 0 0]
        functionOffset = [0. 0. 0.5]
        gridDirection = 2
        gridOffset = [0 0 1]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </CoordProdSTFuncStencilElement>

      <CoordProdSTFuncStencilElement phi_dpm>
        value = 8.854187817620389e-12
        minDim = 3
        cellOffset = [0 0 0]
        functionOffset = [0. 0. -0.5]
        gridDirection = 2
        gridOffset = [0 0 0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </CoordProdSTFuncStencilElement>

      <CoordProdSTFuncStencilElement phi_npz>
        value = -8.854187817620389e-12
        minDim = 1
        cellOffset = [1 0 0]
        functionOffset = [0.5 0. 0.]
        gridDirection = 0
        gridOffset = [1 0 0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </CoordProdSTFuncStencilElement>

      <CoordProdSTFuncStencilElement phi_nmz>
        value = -8.854187817620389e-12
        minDim = 1
        cellOffset = [-1 0 0]
        functionOffset = [-0.5 0. 0.]
        gridDirection = 0
        gridOffset = [0 0 0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </CoordProdSTFuncStencilElement>

      <CoordProdSTFuncStencilElement phi_npr>
        value = -8.854187817620389e-12
        minDim = 2
        cellOffset = [0 1 0]
        functionOffset = [0. 0.5 0.]
        gridDirection = 1
        gridOffset = [0 1 0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </CoordProdSTFuncStencilElement>

      <CoordProdSTFuncStencilElement phi_nmr>
        value = -8.854187817620389e-12
        minDim = 2
        cellOffset = [0 -1 0]
        functionOffset = [0. -0.5 0.]
        gridDirection = 1
        gridOffset = [0 0 0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </CoordProdSTFuncStencilElement>

      <CoordProdSTFuncStencilElement phi_npp>
        value = -8.854187817620389e-12
        minDim = 3
        cellOffset = [0 0 1]
        functionOffset = [0. 0. 0.5]
        gridDirection = 2
        gridOffset = [0 0 1]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </CoordProdSTFuncStencilElement>

      <CoordProdSTFuncStencilElement phi_nmp>
        value = -8.854187817620389e-12
        minDim = 3
        cellOffset = [0 0 -1]
        functionOffset = [0. 0. -0.5]
        gridDirection = 2
        gridOffset = [0 0 0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </CoordProdSTFuncStencilElement>

    </MatrixFiller>

    <VectorWriter interiorWriter>
      kind = nodeFieldVectorWriter
      verbosity = VPM_TOP_LEVEL_VERBOSITY
      minDim = 1
      gridBoundary = hc_cylindricalPecShapes
      interiorosity = [insideBoundary]
      readField = ChargeDensity
      readComponent = 0
      lowerBounds = [1  1  1]
      upperBounds = [155   30   12]
      component = 0
    </VectorWriter>

    <VectorReader phiReader>
      kind = fieldVectorReader
      minDim = 0
      writeField = Phi
      writeComponent = 0
      lowerBounds = [0  0]
      upperBounds = [156  31]
      componentBounds = [0 1]
    </VectorReader>

    <MatrixFiller neumann1Filler>
      kind = stencilFiller
      verbosity = 127
      minDim = 1
      lowerBounds = [0  0  0]
      upperBounds = [1  31  13]
      component = 0

      <StencilElement diag>
        value = -0.0035416751270481556
        minDim = 0
        cellOffset = [0  0  0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </StencilElement>

      <StencilElement xoff>
        value = 0.0035416751270481556
        minDim = 1
        cellOffset = [1  0  0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </StencilElement>

    </MatrixFiller>

    <VectorWriter neumann1Writer>
      kind = stFuncVectorWriter
      verbosity = 127
      minDim = 1
      lowerBounds = [0  0  0]
      upperBounds = [1  31  13]
      component = 0

      <STFunc function>
        kind = expression
        expression = 0.0
      </STFunc>

      scaling = 3.5416751270481556e-07
    </VectorWriter>

    <MatrixFiller neumann2Filler>
      kind = stencilFiller
      verbosity = 127
      minDim = 1
      lowerBounds = [155  0  0]
      upperBounds = [156  31  13]
      component = 0

      <StencilElement diag>
        value = 0.0035416751270481556
        minDim = 0
        cellOffset = [0  0  0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </StencilElement>

      <StencilElement xoff>
        value = -0.0035416751270481556
        minDim = 1
        cellOffset = [-1  0  0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </StencilElement>

    </MatrixFiller>

    <VectorWriter neumann2Writer>
      kind = stFuncVectorWriter
      verbosity = 127
      minDim = 1
      lowerBounds = [155  0  0]
      upperBounds = [156  31  13]
      component = 0

      <STFunc function>
        kind = expression
        expression = -100.0
      </STFunc>

      scaling = 3.5416751270481556e-07
    </VectorWriter>

    <MatrixFiller neumann3Filler>
      kind = stencilFiller
      verbosity = 127
      minDim = 2
      lowerBounds = [1  0  0]
      upperBounds = [155  1  13]
      component = 0

      <StencilElement diag>
        value = -0.0035416751270481556
        minDim = 0
        cellOffset = [0  0  0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </StencilElement>

      <StencilElement yoff>
        value = 0.0035416751270481556
        minDim = 2
        cellOffset = [0  1  0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </StencilElement>

    </MatrixFiller>

    <VectorWriter neumann3Writer>
      kind = stFuncVectorWriter
      verbosity = 127
      minDim = 2
      lowerBounds = [1  0  0]
      upperBounds = [155  1  13]
      component = 0

      <STFunc function>
        kind = expression
        expression = 0.0
      </STFunc>

      scaling = 3.5416751270481556e-07
    </VectorWriter>

    <MatrixFiller neumann4Filler>
      kind = stencilFiller
      verbosity = 127
      minDim = 2
      lowerBounds = [1  30  0]
      upperBounds = [155  31  13]
      component = 0

      <StencilElement diag>
        value = 0.0035416751270481556
        minDim = 0
        cellOffset = [0  0  0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </StencilElement>

      <StencilElement yoff>
        value = -0.0035416751270481556
        minDim = 2
        cellOffset = [0  -1  0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </StencilElement>

    </MatrixFiller>

    <VectorWriter neumann4Writer>
      kind = stFuncVectorWriter
      verbosity = 127
      minDim = 2
      lowerBounds = [1  30  0]
      upperBounds = [155  31  13]
      component = 0

      <STFunc function>
        kind = expression
        expression = -0.0
      </STFunc>

      scaling = 3.5416751270481556e-07
    </VectorWriter>

    <MatrixFiller emitter_bndFiller>
      kind = nodeStencilFiller
      gridBoundary = emitter
      rowInteriorosity = [cutByBoundary outsideBoundary]
      colInteriorosity = [cutByBoundary outsideBoundary]
      component = 0
      minDim = 1
      lowerBounds = [1  1  1]
      upperBounds = [155   30   12]

      <StencilElement ident>
        value = 0.0035416751270481556
        minDim = 1
        cellOffset = [0 0 0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </StencilElement>

    </MatrixFiller>

    <VectorWriter emitter_bndWriter>
      kind = stFuncNodeVectorWriter
      gridBoundary = emitter
      minDim = 1
      lowerBounds = [1  1  1]
      upperBounds = [155   30   12]
      component = 0
      interiorosity = [cutByBoundary outsideBoundary]

      <STFunc function>
        kind = expression
        expression = 0.0
      </STFunc>

      scaling = 0.0035416751270481556
    </VectorWriter>

    <MatrixFiller orifice_bndFiller>
      kind = nodeStencilFiller
      gridBoundary = orifice
      rowInteriorosity = [cutByBoundary outsideBoundary]
      colInteriorosity = [cutByBoundary outsideBoundary]
      component = 0
      minDim = 1
      lowerBounds = [1  1  1]
      upperBounds = [155   30   12]

      <StencilElement ident>
        value = 0.0035416751270481556
        minDim = 1
        cellOffset = [0 0 0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </StencilElement>

    </MatrixFiller>

    <VectorWriter orifice_bndWriter>
      kind = stFuncNodeVectorWriter
      gridBoundary = orifice
      minDim = 1
      lowerBounds = [1  1  1]
      upperBounds = [155   30   12]
      component = 0
      interiorosity = [cutByBoundary outsideBoundary]

      <STFunc function>
        kind = expression
        expression = 0.0
      </STFunc>

      scaling = 0.0035416751270481556
    </VectorWriter>

    <MatrixFiller anode_bndFiller>
      kind = nodeStencilFiller
      gridBoundary = anode
      rowInteriorosity = [cutByBoundary outsideBoundary]
      colInteriorosity = [cutByBoundary outsideBoundary]
      component = 0
      minDim = 1
      lowerBounds = [1  1  1]
      upperBounds = [155   30   12]

      <StencilElement ident>
        value = 0.0035416751270481556
        minDim = 1
        cellOffset = [0 0 0]
        rowFieldIndex = 0
        columnFieldIndex = 0
      </StencilElement>

    </MatrixFiller>

    <VectorWriter anode_bndWriter>
      kind = stFuncNodeVectorWriter
      gridBoundary = anode
      minDim = 1
      lowerBounds = [1  1  1]
      upperBounds = [155   30   12]
      component = 0
      interiorosity = [cutByBoundary outsideBoundary]

      <STFunc function>
        kind = expression
        expression = 100.0
      </STFunc>

      scaling = 0.0035416751270481556
    </VectorWriter>

    <LinearSolver linearSolver>
      kind = iterativeSolver
      verbosity = 127
      maxIterations = 1000
      tolerance = 1e-08
      convergenceMetric = r0

      <BaseSolver myBS>
        kind = gmres
        kspace = 30
        orthog = classic
      </BaseSolver>

      <Preconditioner precond>
        kind = multigrid
        mgOutput = 0
        mgDefaults = DD
        maxLevels = 10
        smootherType = GaussSeidel
        smootherSweeps = 3
        smootherPrePost = both
        coarseType = Jacobi
        dampingFactor = 1.333
        threshold = 0.0
        increaseDecrease = increasing
      </Preconditioner>

    </LinearSolver>

  </FieldUpdater>

  updateStepOrder = [esSolveStep gradPhiStep]
</MultiField>


